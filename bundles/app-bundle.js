System.register("components/app.css!github:systemjs/plugin-css@0.1.23/css.js",[],function(){return{setters:[],execute:function(){}}}),System.registerDynamic("components/about/about.md!github:Hypercubed/system-md-marked@1.0.1/md.js",[],!0,function($__require,exports,module){this||self;return module.exports='<h1 id="about-project-">About Project χ</h1>\n<p>This website was built using the Project χ platform. Project χ (pronounced project kai or /<abbr title="/ˈ/ primary stress follows">ˈ</abbr><abbr title="\'k\' in \'kind\'">k</abbr><abbr title="/iː/ long \'e\' in \'bead\'">iː</abbr>/) is an modular open source visualization gallery framework built by Jayson Harshbarger at the <a href="http://www.yokohama.riken.jp/english/">RIKEN Institute in Yokohama Japan</a>.  It offers a framework and toolset for building self-hosted data-centric visualization websites. Geared towards sharing of supplemental materials associated with scientific publications; Project χ allows visitors to interact with visualizations, download associated data and images, and even try the visualization with their own uploaded or publicly available datasets.  For developers the framework comes packaged with tools necessary for quickly integrating interactive visualizations using <a href="http://d3js.org/">d3.js</a>, <a href="https://angularjs.org/">AngularJS</a>, and <a href="http://biojs.io/">BioJS</a>. Features of the framework include:</p>\n<ul>\n<li>Simple,  modular, and customizable design using <a href="https://angularjs.org/">AngularJS</a> templates and <a href="http://getbootstrap.com/">bootstrap</a> CSS framework.</li>\n<li>Supports CommonJS, AMD, and ES6 modules using the <a href="https://github.com/systemjs/systemjs">SystemJS</a> Universal dynamic module loader.</li>\n<li>Integrate additional visualizations, including <a href="http://biojs.io/">BioJS</a> and <a href="https://github.com/curran/chiasm">Chiasm</a> modules, directly from any registry such as <a href="https://www.npmjs.com">NPM</a> or <a href="https://github.com/">GitHub</a> using <a href="http://jspm.io/">JSPM</a>.</li>\n<li>Self-hosted fully client-side application doesn&#39;t require a server; easily hosted on <a href="https://en.wikipedia.org/wiki/WebDAV">WebDAV</a> or <a href="https://pages.github.com/">GitHub Pages</a>.</li>\n<li>Contains AngularJS services and directives for loading, parsing, and downloading data and as well as downloading generated publication quality SVG images.</li>\n</ul>\n',module.exports}),System.register("components/error/error.html!github:systemjs/plugin-text@0.0.8/text.js",[],function(_export,_context){"use strict";return{setters:[],execute:function(){_export("default","<div class=\"jumbotron ng-scope\">\n  {{error || 'Unknown Error'}}\n</div>\n")}}}),System.register("components/extra/index.html!github:systemjs/plugin-text@0.0.8/text.js",[],function(_export,_context){"use strict";return{setters:[],execute:function(){_export("default",'<div ng-include="\'common/partials/intro.html\'"></div>\n\n<div class="row _common_styles_index__index">\n\n  <h2 class="title">{{$ctrl.dataPackage.title}}</h2>\n  <p class="lead">{{$ctrl.dataPackage.description}}</p>\n\n  <div class="col-md-4" ng-repeat="(filename,file) in $ctrl.dataPackage.resources" ng-if="file.data">\n\n    <a ng-href="{{file.link}}">\n      <div class="card" style="background-image: url({{file.data.image}});">\n        <div>\n          <h3>{{file.data.name}}</h3>\n          <p marked="file.data.description"></p>\n        </div>\n      </div>\n    </a>\n\n  </div>\n</div>\n')}}}),System.register("components/extra/index.js",["common/styles/index.css!","./index.html!text"],function(_export,_context){"use strict";function controller(dataService){this.dataPackage.resources.forEach(function(resource){dataService.normalizePackage(resource.url,resource.data)})}var template;return{setters:[function(_commonStylesIndexCss){},function(_indexHtmlText){template=_indexHtmlText.default}],execute:function(){controller.$inject=["dataService"],_export("default",{controller:controller,template:template,bindings:{dataPackage:"<package"}})}}}),System.register("components/extra/trains/trains-chart.js",["d3"],function(_export,_context){"use strict";function Chart(opts){return opts=opts||{},function(selection){selection.each(function(d,i){function type(d,i){if(!i)for(var k in d)if(/^stop\|/.test(k)){var p=k.split("|");stations.push({key:k,name:p[1],distance:+p[2],zone:+p[3]})}return{number:d.number,type:d.type,direction:d.direction,stops:stations.map(function(s){return{station:s,time:parseTime(d[s.key])}}).filter(function(s){return null!=s.time})}}function parseTime(s){var t=formatTime.parse(s);return null!=t&&t.getHours()<3&&t.setDate(t.getDate()+1),t}var el=d3.select(this);el.selectAll("svg").remove();var stations=[],formatTime=d3.time.format("%I:%M%p"),margin={top:20,right:30,bottom:20,left:100},width=960-margin.left-margin.right,height=500-margin.top-margin.bottom,x=d3.time.scale().domain([parseTime("5:30AM"),parseTime("11:30AM")]).range([0,width]),y=d3.scale.linear().range([0,height]),z=d3.scale.linear().domain([1e-4,3e-4]).range(["purple","orange"]).interpolate(d3.interpolateLab),xAxis=d3.svg.axis().scale(x).ticks(8).tickFormat(formatTime),svg=el.append("svg").attr("title","Marey’s Trains").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform","translate("+margin.left+","+margin.top+")");svg.append("defs").append("clipPath").attr("id","clip").append("rect").attr("y",-margin.top).attr("width",width).attr("height",height+margin.top+margin.bottom);var trains=d.map(type);y.domain(d3.extent(stations,function(d){return d.distance}));var station=svg.append("g").attr("class","station").selectAll("g").data(stations).enter().append("g").attr("transform",function(d){return"translate(0,"+y(d.distance)+")"});station.append("text").attr("x",-6).attr("dy",".35em").attr("text-anchor","end").text(function(d){return d.name}),station.append("line").attr("x2",width),svg.append("g").attr("class","x top axis").call(xAxis.orient("top")),svg.append("g").attr("class","x bottom axis").attr("transform","translate(0,"+height+")").call(xAxis.orient("bottom"));var train=svg.append("g").attr("class","train").attr("clip-path","url(#clip)").selectAll("g").data(trains.filter(function(d){return/[NLB]/.test(d.type)})).enter().append("g").attr("class",function(d){return d.type});train.selectAll("line").data(function(d){return d.stops.slice(1).map(function(b,i){return[d.stops[i],b]})}).enter().append("line").attr("x1",function(d){return x(d[0].time)}).attr("x2",function(d){return x(d[1].time)}).attr("y1",function(d){return y(d[0].station.distance)}).attr("y2",function(d){return y(d[1].station.distance)}).style("stroke",function(d){return z(Math.abs((d[1].station.distance-d[0].station.distance)/(d[1].time-d[0].time)))}),train.selectAll("circle").data(function(d){return d.stops}).enter().append("circle").attr("transform",function(d){return"translate("+x(d.time)+","+y(d.station.distance)+")"}).attr("r",2)})}}var d3;return _export("default",Chart),{setters:[function(_d){d3=_d.default}],execute:function(){}}}),System.register("components/extra/trains/trains.css!github:systemjs/plugin-css@0.1.23/css.js",[],function(){return{setters:[],execute:function(){}}}),System.register("components/extra/trains/trains.js",["d3","./trains-chart","./trains.css!"],function(_export,_context){"use strict";function controller(){function draw(){var data=$ctrl.dataPackage.resources.map(function(d){return d.data}),divs=d3.select("#_examples_trains__chart").selectAll("div").data(data);divs.enter().append("div"),divs.exit().remove(),divs.call(chart)}var $ctrl=this,chart=new Chart;Object.assign($ctrl,{editorOptions:{data:$ctrl.dataPackage,onChange:draw},draw:draw,$onInit:draw})}var d3,Chart;return{setters:[function(_d){d3=_d.default},function(_trainsChart){Chart=_trainsChart.default},function(_trainsCss){}],execute:function(){_export("default",{controller:controller,templateUrl:"components/extra/trains/trains.html",bindings:{dataPackage:"<package"}})}}}),System.register("components/extra/hexbin/hexbin.js",["d3","d3-plugins/hexbin/hexbin"],function(_export,_context){"use strict";function controller(){var width=960,height=500,i=-1,θ=0,δθ=.03,n=2e3,k=20,svg=d3.select("#chart").append("svg").attr("title","hexbins").attr("width",width).attr("height",height),randomX=d3.random.normal(width/2,80),randomY=d3.random.normal(height/2,80),points=d3.range(n).map(function(){return[randomX(),randomY()]}),color=d3.scale.linear().domain([0,20]).range(["white","steelblue"]).interpolate(d3.interpolateLab),hexbin=d3.hexbin().size([width,height]).radius(20),hexagon=svg.append("g").attr("class","hexagons").selectAll("path").data(hexbin(points)).enter().append("path").attr("d",hexbin.hexagon(19.5)).attr("transform",function(d){return"translate("+d.x+","+d.y+")"}).style("fill",function(d){return color(d.length)});d3.timer(function(){θ+=δθ,randomX=d3.random.normal(width/2+80*Math.cos(θ),80),randomY=d3.random.normal(height/2+80*Math.sin(θ),80);for(var j=0;j<k;++j)i=(i+1)%n,points[i][0]=randomX(),points[i][1]=randomY();hexagon=hexagon.data(hexbin(points),function(d){return d.i+","+d.j}),hexagon.exit().remove(),hexagon.enter().append("path").attr("d",hexbin.hexagon(19.5)).attr("transform",function(d){return"translate("+d.x+","+d.y+")"}),hexagon.style("fill",function(d){return color(d.length)})})}var d3;return{setters:[function(_d){d3=_d.default},function(_d3PluginsHexbinHexbin){}],execute:function(){_export("default",{controller:controller,templateUrl:"components/extra/hexbin/hexbin.html"})}}}),System.register("components/extra/routes.js",["angular","components/about/about.md!md","components/error/error.html!text","./index","./trains/trains","./hexbin/hexbin"],function(_export,_context){"use strict";function routeConfig($routeProvider){$routeProvider.when("/extra/trains",{template:'<trains data-package="$resolve.dataPackage"></trains>',datapackageUrl:"components/extra/trains/datapackage.json"}).when("/extra/hexbin",{template:"<hexbin></hexbin>"}).otherwise({redirectTo:"/"})}var angular,aboutHTML,errorHTML,indexComponent,trainsComponent,hexbinComponent;return{setters:[function(_angular){angular=_angular.default},function(_componentsAboutAboutMdMd){aboutHTML=_componentsAboutAboutMdMd.default},function(_componentsErrorErrorHtmlText){errorHTML=_componentsErrorErrorHtmlText.default},function(_index){indexComponent=_index.default},function(_trainsTrains){trainsComponent=_trainsTrains.default},function(_hexbinHexbin){hexbinComponent=_hexbinHexbin.default}],execute:function(){routeConfig.$inject=["$routeProvider"],_export("default",angular.module("extra",["projectX.dataService"]).component("trains",trainsComponent).component("extra",indexComponent).component("hexbin",hexbinComponent).config(routeConfig))}}}),System.register("components/index/index.html!github:systemjs/plugin-text@0.0.8/text.js",[],function(_export,_context){"use strict";return{setters:[],execute:function(){_export("default",'<div ng-include="\'common/partials/intro.html\'"></div>\n\n<div class="row _common_styles_index__index">\n\n  <div class="row" ng-repeat="(filename,file) in $ctrl.dataPackage.resources">\n    <h2 class="title">{{file.data.title}}</h2>\n    <p class="lead">{{file.data.description}}</p>\n\n    <div class="col-md-4" ng-repeat="(filename,file) in file.data.resources">\n\n      <a ng-href="{{file.link}}">\n        <div class="card" style="background-image: url({{file.data.image}});">\n          <div>\n            <h3>{{file.data.title}}</h3>\n            <p marked="file.data.description"></p>\n          </div>\n        </div>\n      </a>\n\n    </div>\n  </div>\n\n</div>\n')}}}),System.register("common/styles/index.css!github:systemjs/plugin-css@0.1.23/css.js",[],function(){return{setters:[],execute:function(){}}}),System.register("components/index/index.js",["./index.html!text","common/styles/index.css!"],function(_export,_context){"use strict";function controller(dataService){this.dataPackage.resources.forEach(function(resource){return dataService.normalizePackage(resource.url,resource.data),dataService.loadPackage(resource.url).then(function(dataPackage){dataPackage.resources.forEach(function(resource){dataService.normalizePackage(resource.url,resource.data)}),resource.data=dataPackage})})}var template;return{setters:[function(_indexHtmlText){template=_indexHtmlText.default},function(_commonStylesIndexCss){}],execute:function(){controller.$inject=["dataService"],_export("default",{controller:controller,template:template,bindings:{dataPackage:"<package"}})}}}),System.register("components/routes.js",["angular","components/about/about.md!md","components/error/error.html!text","./extra/routes","./index/index"],function(_export,_context){"use strict";function configRoutes($routeProvider){$routeProvider.when("/about",{template:aboutHTML}).when("/error",{template:errorHTML}).when("/404",{template:errorHTML}).when("/",{template:'<index data-package="$resolve.dataPackage"></index>',datapackageUrl:"components/index/datapackage.json"}).otherwise({redirectTo:"/"})}var angular,aboutHTML,errorHTML,examples,indexComponent;return{setters:[function(_angular){angular=_angular.default},function(_componentsAboutAboutMdMd){aboutHTML=_componentsAboutAboutMdMd.default},function(_componentsErrorErrorHtmlText){errorHTML=_componentsErrorErrorHtmlText.default},function(_extraRoutes){examples=_extraRoutes.default},function(_indexIndex){indexComponent=_indexIndex.default}],execute:function(){configRoutes.$inject=["$routeProvider"],_export("default",angular.module("routes",[examples.name]).component("index",indexComponent).config(configRoutes))}}}),System.register("common/components/editor/editor.css!github:systemjs/plugin-css@0.1.23/css.js",[],function(){return{setters:[],execute:function(){}}}),System.register("common/directives/svg-download-dropdown.js",["angular-downloadsvg-directive"],function(_export,_context){"use strict";function link(scope,element,attr){function getSVGs(){var el=attr.svgDownloadDropdown?angular.element(document.querySelector(sAttr[1])):element.parent,svgs=el.find("svg"),ids=[];angular.forEach(svgs,function(svg,d){var elm=angular.element(svg),id=elm.attr("id")||"svg-"+d,title=elm.attr("title")||id,o={id:id,title:title};elm.attr(o),ids.push(o)}),scope[sAttr[0]]=ids}var sAttr=attr.svgDownloadDropdown.split(/\sin\s/);getSVGs(),element.on("click",function(){scope.$apply(function(){getSVGs()})})}var module;return{setters:[function(_angularDownloadsvgDirective){}],execute:function(){module=angular.module("svgDownloadDropdown",["hc.downloader"]).directive("svgDownloadDropdown",function(){return{link:link}}),_export("default",module.name)}}}),System.register("common/directives/file-drop.js",["angular","common/services/datapackage/datapackage"],function(_export,_context){"use strict";var angular,dp,module;return{setters:[function(_angular){angular=_angular.default},function(_commonServicesDatapackageDatapackage){dp=_commonServicesDatapackageDatapackage.default}],execute:function(){module=angular.module("projectX.fileDrop",[]).directive("fileDropzone",["$window",function($window){return{restrict:"A",scope:{file:"=",fileName:"=",dropped:"&"},link:function(scope,element,attrs){function processDragOverOrEnter(event){return null!==event&&event.preventDefault(),element.addClass("hover"),(event.dataTransfer||event.originalEvent.dataTransfer).effectAllowed="copy",!1}function processDragLeave(event){return null!==event&&event.preventDefault(),element.removeClass("hover"),!1}function checkSize(size){var _ref=attrs.maxFileSize;return void 0===_ref||""===_ref||size/1024/1024<attrs.maxFileSize||($window.alert("File must be smaller than "+attrs.maxFileSize+" MB"),!1)}function isTypeValid(type){return void 0===validMimeTypes||""===validMimeTypes||validMimeTypes.indexOf(type)>-1||($window.alert("Invalid file type "+type+".  File must be one of following types "+validMimeTypes),!1)}function processDropFile(file){var reader=new FileReader;reader.onload=function(evt){file.content=evt.target.result;var type=dp.processor.mime.lookup(file.name);if(checkSize(file.size)&&isTypeValid(type))return scope.$apply(function(){scope.dropped({file:file})})},reader.readAsText(file)}var validMimeTypes=attrs.fileDropzone;return element.bind("dragover",processDragOverOrEnter),element.bind("dragenter",processDragOverOrEnter),element.bind("dragleave",processDragLeave),element.bind("drop",function(event){null!==event&&event.preventDefault(),element.removeClass("hover");for(var files=(event.dataTransfer||event.originalEvent.dataTransfer).files,i=0;i<files.length;i++){var file=files[i];processDropFile(file)}return!1})}}}]),_export("default",module.name)}}}),System.register("common/directives/file-download.js",["angular","FileSaver/FileSaver.js","blobjs/Blob.js"],function(_export,_context){"use strict";var angular,saveAs,module;return{setters:[function(_angular){angular=_angular.default},function(_FileSaverFileSaverJs){saveAs=_FileSaverFileSaverJs.default},function(_blobjsBlobJs){}],execute:function(){module=angular.module("projectX.fileDownload",[]).directive("fileDownload",function(){return{scope:{file:"=fileDownload"},link:function(scope,element){function download(file){var mime=file.type||"text/plain",type=mime+";charset=utf-8",filename=file.name||"download.txt",blob=new Blob([file.content],{type:type});saveAs(blob,filename)}element.bind("click",function(){download(scope.file)})}}}),_export("default",module.name)}}}),System.register("common/services/datapackage/resolver.js",["angular"],function(_export,_context){"use strict";var angular;return _export("default",function(route){var hasDatapackageResolve=angular.isDefined(route.resolve)&&angular.isDefined(route.resolve.dataPackage);return hasDatapackageResolve||(angular.isDefined(route.datapackage)?(route.resolve=route.resolve||{},angular.extend(route.resolve,{dataPackage:["$route","dataService",function($route,dataService){var datapackage="function"==typeof route.datapackage?route.datapackage($route.current.params):route.datapackage,base=datapackage.base||route.datapackageUrl;return dataService.processPackage(base,datapackage)}]})):angular.isDefined(route.datapackageUrl)&&(route.resolve=route.resolve||{},angular.extend(route.resolve,{dataPackage:["$route","dataService",function($route,dataService){var datapackageUrl="function"==typeof route.datapackageUrl?route.datapackageUrl($route.current.params):route.datapackageUrl;return dataService.loadPackage(datapackageUrl)}]}))),route}),{setters:[function(_angular){angular=_angular.default}],execute:function(){}}}),System.register("common/services/datapackage/dataservice.js",["npm:systemjs-plugin-babel@0.0.12/regenerator-runtime.js","npm:systemjs-plugin-babel@0.0.12/babel-helpers/asyncToGenerator.js","./datapackage"],function(_export,_context4){"use strict";function run($http){dp.loader.fetch=function(url){return $http({url:url,method:"GET",transformResponse:function(data){return data}}).then(function(res){return res.data})}}function dataservice(){var _this=this;return{loadPackage:function(){var ref=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(url){var datapackage;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,dp.load(url);case 2:return datapackage=_context.sent,datapackage.resourcesByName=datapackage.$resourcesByName,_context.abrupt("return",datapackage);case 5:case"end":return _context.stop()}},_callee,_this)}));return function(_x){return ref.apply(this,arguments)}}(),normalizePackage:function(url,datapackage){Object.assign(datapackage,{url:url}),dp.normalizePackage(datapackage)},reloadResource:function(){var ref=_asyncToGenerator(_regeneratorRuntime.mark(function _callee2(resource){return _regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,dp.loader.resource(resource);case 2:return resource=_context2.sent,_context2.next=5,dp.processor.resource(resource);case 5:return _context2.abrupt("return",_context2.sent);case 6:case"end":return _context2.stop()}},_callee2,_this)}));return function(_x2){return ref.apply(this,arguments)}}(),processPackage:function(){var ref=_asyncToGenerator(_regeneratorRuntime.mark(function _callee3(url,datapackage){return _regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return Object.assign(datapackage,{url:url}),_context3.next=3,dp.normalizePackage(datapackage);case 3:return _context3.next=5,dp.normalizeResources(datapackage);case 5:return _context3.next=7,dp.loadResources(datapackage);case 7:return _context3.next=9,dp.processPackage(datapackage);case 9:return datapackage.resourcesByName=datapackage.$resourcesByName,_context3.abrupt("return",datapackage);case 11:case"end":return _context3.stop()}},_callee3,_this)}));return function(_x3,_x4){return ref.apply(this,arguments)}}()}}var _regeneratorRuntime,_asyncToGenerator,dp;return _export("run",run),_export("dataservice",dataservice),{setters:[function(_npmSystemjsPluginBabel0012RegeneratorRuntimeJs){_regeneratorRuntime=_npmSystemjsPluginBabel0012RegeneratorRuntimeJs.default},function(_npmSystemjsPluginBabel0012BabelHelpersAsyncToGeneratorJs){_asyncToGenerator=_npmSystemjsPluginBabel0012BabelHelpersAsyncToGeneratorJs.default},function(_datapackage){dp=_datapackage.default}],execute:function(){run.$inject=["$http"]}}}),System.register("common/services/datapackage/index.js",["angular","./resolver","./dataservice"],function(_export,_context){"use strict";var angular,addDataPackageResolver,run,dataservice,module;return{setters:[function(_angular){angular=_angular.default},function(_resolver){addDataPackageResolver=_resolver.default},function(_dataservice){run=_dataservice.run,dataservice=_dataservice.dataservice}],execute:function(){module=angular.module("projectX.dataService",["ngRoute"]).service("dataService",dataservice).run(run).decorator("$route",["$delegate",function($delegate){return angular.forEach($delegate.routes,addDataPackageResolver),$delegate}]),_export("default",module.name)}}}),System.register("common/components/editor/editor.html!github:systemjs/plugin-text@0.0.8/text.js",[],function(_export,_context){"use strict";return{setters:[],execute:function(){_export("default",'<div ng-if="$ctrl.enableProtected && $ctrl.panel.open">\n  <alert close="closeAlert = true" type="warning" ng-hide="closeAlert">\n    This is your chance to play with the featured visualization.  No changes you make will be saved.\n  </alert>\n</div>\n\n\n<section class="datapckage-editor-container hidden-print" style="position: relative">\n\n  <div class="pull-right panel-toggle">\n    <button type="button" class="btn btn-link btn-sm" tooltip="Add new resource"\n      ng-show="$ctrl.enableAdd && $ctrl.panel.open"\n      ng-click="$ctrl.newFile()"\n      file-dropzone="{{$ctrl.types}}"\n      data-max-file-size="30"\n      dropped="$ctrl.dropped(file)">\n      <i class="fa fa-plus-square" aria-hidden="true"></i>\n    </button>\n\n    <button type="button" class="btn btn-primary btn-sm"\n      ng-click="$ctrl.play()"\n      ng-if="$ctrl.enableProtected">\n      Try your own data\n    </button>\n\n    <button id="data-drop" type="button" class="btn btn-primary btn-sm" tooltip="Add new resource"\n      ng-if="$ctrl.enableDrop"\n      file-dropzone="{{$ctrl.types}}"\n      data-max-file-size="30"\n      dropped="$ctrl.droppedOver($ctrl.data.resources.length - 1, file)">\n      Drop your own data here\n    </button>\n\n    <button type="button" class="btn btn-link btn-sm" tooltip="Show/hide resources panel"\n      ng-show="$ctrl.enableOpen"\n      ng-click="$ctrl.tooglePanel()">\n      <i class="fa fa-cog" aria-hidden="true"></i>\n    </button>\n  </div>\n\n  <form name="userForm" ng-submit="$ctrl.submit(userForm)">\n    <uib-tabset id="dataPackageEditor"\n      active="$ctrl.activeTab"\n      ng-show="$ctrl.panel.open"\n      ng-if="$ctrl.enableOpen || $ctrl.enableProtected">\n      <uib-tab ng-repeat="tab in $ctrl.resources track by $index" select="$ctrl.ui.refresh()">\n        <uib-tab-heading\n          file-dropzone="{{$ctrl.types}}"\n          data-max-file-size="30"\n          dropped="$ctrl.droppedOver($index, file)">\n          {{ $ctrl.data.resources.length < 7 ? tab.name : $index }}\n          <a class="close" ng-click="$ctrl.remove($index)">&nbsp;&times;</a>\n        </uib-tab-heading>\n        <div file-dropzone="{{$ctrl.types}}" data-max-file-size="30" dropped="$ctrl.droppedOver($index, file)">\n\n          <div class="col-xs-12 mini-well">\n            <div class="col-md-3">\n              <label class="sr-only">Filename</label>\n              <input type="text" id="label" class="form-control input-sm"\n                ng-model="tab.name" placeholder="filename"\n                ng-model-options="{ updateOn: \'submit\' }"\n                ng-change="$ctrl.rename(tab)">\n            </div>\n            <div class="col-md-3">\n              <label class="sr-only">Media Type</label>\n              <select class="form-control input-sm"\n                ng-options="value as value for value in $ctrl.types"\n                ng-model="tab.mediatype"\n                ng-model-options="{ updateOn: \'submit\' }"\n                ng-change="$ctrl.change(tab)"></select>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-12">\n              <textarea class="editor"\n                resource="tab"\n                datapackage="$ctrl.data"\n                name="input{{$index}}"\n                ng-model="tab.content"\n                ng-model-options="{ updateOn: \'submit\', debounce: 200 }"\n                ng-change="$ctrl.change(tab, userForm[\'input\' + $index])"\n                ui-codemirror\n                ui-codemirror-opts="{\n                  lineNumbers: true,\n                  lineWrapping: false,\n                  mode: file.type,\n                  allowDropFileTypes: false,\n                  onLoad: $ctrl.ui.codemirrorLoaded\n                }"\n                ui-refresh="$ctrl.ui.count"></textarea>\n                <div class="col-xs-12 bg-danger">\n                  <ul class="list-unstyled">\n                    <li ng-repeat="error in tab.errors | limitTo:10">row {{error.row}}: {{error.message}}</li>\n                  </ul>\n                </div>\n            </div>\n          </div>\n        </div>\n      </uib-tab>\n    </uib-tabset>\n\n    <ng-transclude></ng-transclude>\n\n    <div class="btn-toolbar" role="toolbar" aria-label="toolbar">\n      <div id="data-download" class="btn-group" uib-dropdown>\n        <button type="button" class="btn btn-primary btn-sm dropdown-toggle" uib-dropdown-toggle aria-expanded="false" ng-if="$ctrl.enableFileDownload">\n          <div class="pull-right">\n            <i class="fa fa-arrow-circle-o-down" aria-hidden="true"></i>\n            Download Data <span class="caret"></span>\n          </div>\n        </button>\n        <ul class="dropdown-menu" role="menu">\n          <li class="dropdown-header">Data Resources</li>\n          <li ng-repeat="file in $ctrl.data.resources">\n            <a class="btn btn-link" file-download="file">{{file.name}}</a>\n          </li>\n        </ul>\n      </div>\n\n      <div id="svg-download" class="btn-group hidden-print"\n        uib-dropdown svg-download-dropdown="svgList in #charts"\n        ng-if="$ctrl.enableSvgDownload || $ctrl.enablePngDownload">\n        <button type="button" class="btn btn-primary btn-sm dropdown-toggle"\n          uib-dropdown-toggle aria-expanded="false">\n          <div class="pull-right">\n            <i class="fa fa-picture-o" aria-hidden="true"></i>\n            Download SVG <span class="caret"></span>\n          </div>\n        </button>\n        <ul class="dropdown-menu" role="menu">\n          <li ng-repeat-start="svg in svgList" ng-show="$ctrl.enableSvgDownload">\n            <a href svg-download="#{{svg.id}}" title="{{svg.title}}">{{svg.title}} as SVG</a>\n          </li>\n          <li ng-repeat-end ng-show="$ctrl.canDownloadPng">\n            <a href svg-download="#{{svg.id}}" title="{{svg.title}}" type="png">{{svg.title}} as PNG</a>\n          </li>\n        </ul>\n      </div>\n\n      <div class="pull-right btn-toolbar" ng-show="$ctrl.panel.open">\n        <button type="submit" class="btn btn-primary btn-sm">Apply changes</button>\n        <button class="btn btn-danger btn-sm"\n          ng-click="$ctrl.cancel(userForm)">Cancel</button>\n      </div>\n    </div>\n  </form>\n</section>\n')}}}),System.registerDynamic("common/services/datapackage/datapackage.js",["chi-datapackage/dist/service","chi-datapackage/dist/normalizer"],!0,function($__require,exports,module){this||self;const DataPackageService=$__require("chi-datapackage/dist/service"),Normalizer=$__require("chi-datapackage/dist/normalizer"),dataPackageService=new DataPackageService;return dataPackageService.Normalizer=Normalizer,module.exports=dataPackageService,module.exports}),System.register("common/components/editor/editor-controller.js",["angular","common/services/datapackage/datapackage"],function(_export,_context){"use strict";function controller($scope,$cookies,$timeout,$log,growl){function cancel(form){$log.debug("cancel"),form.$rollbackViewValue(),$ctrl.resources=hasPackage?angular.copy($ctrl.options.data.resources):[],form.$setPristine()}function submit(form){form.$valid&&($log.debug("submit"),hasPackage&&($ctrl.options.data.resources=$ctrl.resources,$ctrl.options.data.$resourcesByName=dp.Normalizer.index($ctrl.options.data)),$timeout(function(){$ctrl.onChange()}))}function createNewResource(name){var content=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return name=name||"new."+$ctrl.defaultFormat,{path:name,name:name,mediatype:dp.normalize.mime.lookup(name),content:content,schema:$ctrl.defaultSchema}}function fileDroppedOver($index,file){$log.debug("fileDroppedOver",$index,file);var resource=createNewResource(file.name,file.content);$ctrl.activeTab=$index,$ctrl.resources.splice($index,1,resource),updateResource(resource),$ctrl.ui.refresh()}function fileDropped(file){$log.debug("fileDropped",file),addResource(file.name,file.content)}function addResource(name){var content=arguments.length<=1||void 0===arguments[1]?"":arguments[1];$log.debug("addResource",name,content);var resource=createNewResource(name,content);return $ctrl.resources.push(resource),updateResource(resource),$timeout(function(){$ctrl.ui.refresh(),$ctrl.activeTab=$ctrl.resources.length-1}),!1}function play(){$ctrl.data&&$ctrl.data.readme&&($ctrl.data.readme=null),tooglePanel()}function updateResource(resource,form){$log.debug("updateResource",$scope),dp.normalizeResource($ctrl.data,resource),dp.processResource(resource);var error=resource.errors&&resource.errors.length>0;if(form&&form.$setValidity("processed",!error),error)return growl.error("failed to process "+resource.name)}function removeResourceByIndex(i){i>-1&&$ctrl.resources.splice(i,1)}function resourceRenamed(resource){resource.name&&(resource.path=resource.name,updateResource(resource))}function tooglePanel(){$ctrl.panel.open=!$ctrl.panel.open,$ctrl.ui.refresh(),$timeout($ctrl.ui.refresh,100)}var $ctrl=this,hasOptions=Boolean($ctrl.options),hasPackage=hasOptions&&Boolean($ctrl.options.data),isSafari=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),isIE="undefined"!=typeof window.navigator.msSaveBlob,enableFileDownload=hasPackage&&$ctrl.options.data.resources.length>0;return Object.assign($ctrl,{activeTab:0,resources:hasPackage?angular.copy($ctrl.options.data.resources):[],panel:{open:!1},change:updateResource,remove:removeResourceByIndex,rename:resourceRenamed,newFile:addResource,dropped:fileDropped,droppedOver:fileDroppedOver,submit:submit,cancel:cancel,tooglePanel:tooglePanel,play:play,ui:{refresh:function(){$ctrl.ui.count++},count:0,codemirrorLoaded:function(cm){
$timeout(function(){cm.refresh(),$ctrl.ui.refresh()},100)}},onChange:function(){},enableOpen:hasPackage,enableFileDownload:enableFileDownload,enableSvgDownload:!0,enablePngDownload:!isSafari&&!isIE,enableAdd:!0,enableDrop:!1,enableProtected:!1,types:Object.keys(dp.processor.translators),defaultFormat:hasPackage?$ctrl.options.data.resources[0].format:"txt",defaultSchema:hasPackage?$ctrl.options.data.resources[0].schema:void 0},this.options)}var angular,dp;return _export("default",controller),{setters:[function(_angular){angular=_angular.default},function(_commonServicesDatapackageDatapackage){dp=_commonServicesDatapackageDatapackage.default}],execute:function(){controller.$inject=["$scope","$cookies","$timeout","$log","growl"]}}}),System.register("common/components/editor/editor.js",["angular","ui-codemirror","codemirror/lib/codemirror","codemirror/lib/codemirror.css!","./editor.css!","common/directives/svg-download-dropdown","common/directives/file-drop","common/directives/file-download","common/services/datapackage/index","common/services/datapackage/datapackage","./editor.html!text","./editor-controller"],function(_export,_context){"use strict";var angular,svgDropdownDownload,fileDrop,fileDownload,dataServices,dp,template,controller,editor;return{setters:[function(_angular){angular=_angular.default},function(_uiCodemirror){},function(_codemirrorLibCodemirror){},function(_codemirrorLibCodemirrorCss){},function(_editorCss){},function(_commonDirectivesSvgDownloadDropdown){svgDropdownDownload=_commonDirectivesSvgDownloadDropdown.default},function(_commonDirectivesFileDrop){fileDrop=_commonDirectivesFileDrop.default},function(_commonDirectivesFileDownload){fileDownload=_commonDirectivesFileDownload.default},function(_commonServicesDatapackageIndex){dataServices=_commonServicesDatapackageIndex.default},function(_commonServicesDatapackageDatapackage){dp=_commonServicesDatapackageDatapackage.default},function(_editorHtmlText){template=_editorHtmlText.default},function(_editorController){controller=_editorController.default}],execute:function(){editor=angular.module("projectX.dataEditor",["ui.codemirror",dataServices,svgDropdownDownload,fileDrop,fileDownload]).directive("datapackageEdit",function(){return{restrict:"A",scope:{},bindToController:{options:"=datapackageEdit"},controller:controller,controllerAs:"$ctrl",transclude:!0,template:template}}).component("packageEditor",{template:template,controller:controller,transclude:!0,bindings:{options:"="}}),_export("default",editor.name)}}}),System.register("common/services/loading-bar/loading-bar.css!github:systemjs/plugin-css@0.1.23/css.js",[],function(){return{setters:[],execute:function(){}}}),System.register("common/services/loading-bar/loading-bar.html!github:systemjs/plugin-text@0.0.8/text.js",[],function(_export,_context){"use strict";return{setters:[],execute:function(){_export("default",'<div id="loading-bar-spinner" class="text-center">\n  <div class="spinner-box">\n    <div class="spinner-icon"></div>\n  </div>\n</div>\n')}}}),System.register("common/services/loading-bar/loading-bar.js",["angular","angular-loading-bar","angular-loading-bar/build/loading-bar.css!","./loading-bar.css!","./loading-bar.html!text"],function(_export,_context){"use strict";var angular,spinnerTemplate,mod;return{setters:[function(_angular){angular=_angular.default},function(_angularLoadingBar){},function(_angularLoadingBarBuildLoadingBarCss){},function(_loadingBarCss){},function(_loadingBarHtmlText){spinnerTemplate=_loadingBarHtmlText.default}],execute:function(){mod=angular.module("projectX.loading-bar",["angular-loading-bar"]).config(["cfpLoadingBarProvider",function(cfpLoadingBarProvider){cfpLoadingBarProvider.latencyThreshold=32,cfpLoadingBarProvider.spinnerTemplate=spinnerTemplate}]).run(["$rootScope","cfpLoadingBar",function($rootScope,cfpLoadingBar){$rootScope.$on("$routeChangeStart",function(){cfpLoadingBar.start()}),$rootScope.$on("$routeChangeError",function(){cfpLoadingBar.complete()}),$rootScope.$on("$routeChangeSuccess",function(){cfpLoadingBar.complete()})}]),_export("default",mod.name)}}}),System.register("common/services/dynamic-title/dynamic-title.js",["angular"],function(_export,_context){"use strict";function setupRouteChange($rootScope,dynamicTitle){$rootScope.$on("$routeChangeSuccess",function(event,current){return dynamicTitle.fromState(current)})}function DynamicTitleProvider(){function DynamicTitle($document,$log){function set(title){title=title||configuration.defaultTitle,$log.debug("title set to",title),$document[0].title=title}return{set:set,fromState:function($state){var value=null;$state.$$route&&$state.$$route.title&&(value="function"==typeof $state.$$route.title?$state.$$route.title($state.params):$state.$$route.title),set(value)}}}var configuration={defaultTitle:document.title||"Project-χ"};this.configure=function(value){angular.extend(configuration,value)},this.$get=DynamicTitle,DynamicTitle.$inject=["$document","$log"]}var angular,module;return{setters:[function(_angular){angular=_angular.default}],execute:function(){module=angular.module(name,[]).provider("dynamicTitle",DynamicTitleProvider).run(setupRouteChange),_export("default",module.name),setupRouteChange.$inject=["$rootScope","dynamicTitle"],DynamicTitleProvider.$inject=[]}}}),System.register("common/services/growl/growl.js",["angular-growl/build/angular-growl.js","angular-growl/build/angular-growl.css!","angular"],function(_export,_context){"use strict";function runGrowl($rootScope,$location,growl){$rootScope.$on("$routeChangeError",function(event,curr,prev,rej){return"string"!=typeof rej&&(rej=rej.status&&rej.statusText?rej.status+" "+rej.statusText:rej.message?rej.message:String(rej)),growl.error("failed to change routes; "+rej)})}var angular,mod;return{setters:[function(_angularGrowlBuildAngularGrowlJs){},function(_angularGrowlBuildAngularGrowlCss){},function(_angular){angular=_angular.default}],execute:function(){mod=angular.module("projectX.growl",["angular-growl"]).run(runGrowl),_export("default",mod.name),runGrowl.$inject=["$rootScope","$location","growl"]}}}),System.register("common/directives/resize.js",["angular"],function(_export,_context){"use strict";function onResize($window,$timeout){return{scope:{onResize:"&"},link:function(scope){function debounceRedraw(){timeout&&$timeout.cancel(timeout),timeout=$timeout(function(){scope.onResize()},500)}function resize(){scope.onResize()}var timeout=null;angular.element($window).on("resize",debounceRedraw),"matchMedia"in window&&window.matchMedia("print").addListener(resize),scope.$on("$destroy",function(){angular.element($window).off("resize",debounceRedraw),"matchMedia"in window&&window.matchMedia("print").removeListener(resize)})}}}var angular,module;return{setters:[function(_angular){angular=_angular.default}],execute:function(){module=angular.module("projectX.onResize",[]).directive("onResize",onResize),_export("default",module.name),onResize.$inject=["$window","$timeout"]}}}),System.register("common/directives/active-path.js",["angular"],function(_export,_context){"use strict";function activePathDirective($log,$location){return{link:function(scope,element,attrs){var re=new RegExp(attrs.activePath);scope.$watch(function(){return $location.path()},function(value){re.test(value)?element.addClass("active"):element.removeClass("active")})}}}var angular,activePath;return{setters:[function(_angular){angular=_angular.default}],execute:function(){activePath=angular.module("projectX.activePath",[]).directive("activePath",activePathDirective),_export("default",activePath.name),activePathDirective.$inject=["$log","$location"]}}}),System.register("common/common.js",["angular","common/services/datapackage/index","common/components/editor/editor","common/services/loading-bar/loading-bar","common/services/dynamic-title/dynamic-title","common/services/growl/growl","common/directives/resize","common/directives/active-path"],function(_export,_context){"use strict";var angular,dataServices,dataPackageEditor,loadingBar,dynamicTitle,growl,onResize,activePath,common;return{setters:[function(_angular){angular=_angular.default},function(_commonServicesDatapackageIndex){dataServices=_commonServicesDatapackageIndex.default},function(_commonComponentsEditorEditor){dataPackageEditor=_commonComponentsEditorEditor.default},function(_commonServicesLoadingBarLoadingBar){loadingBar=_commonServicesLoadingBarLoadingBar.default},function(_commonServicesDynamicTitleDynamicTitle){dynamicTitle=_commonServicesDynamicTitleDynamicTitle.default},function(_commonServicesGrowlGrowl){growl=_commonServicesGrowlGrowl.default},function(_commonDirectivesResize){onResize=_commonDirectivesResize.default},function(_commonDirectivesActivePath){activePath=_commonDirectivesActivePath.default}],execute:function(){common=angular.module("projectX.common",[dataServices,dataPackageEditor,onResize,loadingBar,dynamicTitle,growl,activePath]),_export("default",common.name)}}}),System.register("common/partials/footer.html!github:systemjs/plugin-text@0.0.8/text.js",[],function(_export,_context){"use strict";return{setters:[],execute:function(){_export("default",'<div class="container">\n\t<p>Website designed and built at RIKEN, Japan.</p>\n\t<p>Project-χ code licensed under MIT</p>\n\t<p>Currently 1.0.0-rc.5\n\t\t// <a href="https://github.com/Hypercubed/Project-chi">GitHub</a>\n\t\t// <a ng-href="#/about">About</a>\n\t\t// <a href="https://github.com/Hypercubed/Project-Chi/issues">Issues</a></p>\n</div>\n')}}}),System.register("common/partials/header.html!github:systemjs/plugin-text@0.0.8/text.js",[],function(_export,_context){"use strict";return{setters:[],execute:function(){_export("default",'<div class="header">\n\t<div class="navbar navbar-default" role="navigation">\n\t\t<div class="container">\n\t\t\t<div class="navbar-header">\n\n\t\t\t\t<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#js-navbar-collapse">\n\t\t\t\t\t<span class="sr-only">Toggle navigation</span>\n\t\t\t\t\t<span class="icon-bar"></span>\n\t\t\t\t\t<span class="icon-bar"></span>\n\t\t\t\t\t<span class="icon-bar"></span>\n\t\t\t\t</button>\n\n\t\t\t\t<a class="navbar-brand" href="#/">Project-χ</a>\n\t\t\t</div>\n\n\t\t\t<div class="collapse navbar-collapse pull-right" id="js-navbar-collapse">\n\t\t\t\t<ul class="nav navbar-nav">\n\t\t\t\t\t<li active-path="/about"><a ng-href="#/about">About</a></li>\n\t\t\t\t\t<li><a href="//github.com/Hypercubed/Project-Chi/issues">Contact</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n')}}}),System.register("components/app.component.js",["common/partials/footer.html!text","common/partials/header.html!text"],function(_export,_context){"use strict";var footerHTML,headerHTML,AppComponent;return{setters:[function(_commonPartialsFooterHtmlText){footerHTML=_commonPartialsFooterHtmlText.default},function(_commonPartialsHeaderHtmlText){headerHTML=_commonPartialsHeaderHtmlText.default}],execute:function(){AppComponent={template:'\n    <div class="header">\n      '+headerHTML+'\n    </div>\n\n    <div class="container">\n      <div ng-view autoscroll class="ng-fade"></div>\n    </div>\n\n    <div class="footer">\n      '+footerHTML+"\n    </div>\n\n    <div growl></div>"},_export("default",AppComponent)}}}),System.register("components/app.js",["./app.css!","angular","angular-route","angular-animate","angular-cookies","angular-sanitize","angular-touch","angular-ui-bootstrap","angular-marked","components/routes","common/common","./app.component"],function(_export,_context){"use strict";var angular,angularMarked,routes,common,AppComponent;return{setters:[function(_appCss){},function(_angular){angular=_angular.default},function(_angularRoute){},function(_angularAnimate){},function(_angularCookies){},function(_angularSanitize){},function(_angularTouch){},function(_angularUiBootstrap){},function(_angularMarked){angularMarked=_angularMarked.default},function(_componentsRoutes){routes=_componentsRoutes.default},function(_commonCommon){common=_commonCommon.default},function(_appComponent){AppComponent=_appComponent.default}],execute:function(){_export("default",angular.module("projectX",["ngRoute","ngAnimate","ngCookies","ngSanitize","ngTouch","ui.bootstrap",angularMarked,routes.name||routes,common]).component("app",AppComponent).config(["$logProvider","$compileProvider",function($logProvider,$compileProvider){$logProvider.debugEnabled(!System.production),$compileProvider.debugInfoEnabled(!System.production)}]))}}}),System.register("components/boot.js",["webcomponentsjs/webcomponents-lite.js","core-js/shim","bootstrap/dist/css/bootstrap.css!","font-awesome/css/font-awesome.css!","angular","./app"],function(_export,_context){"use strict";var angular,app;return{setters:[function(_webcomponentsjsWebcomponentsLiteJs){},function(_coreJsShim){},function(_bootstrapDistCssBootstrapCss){},function(_fontAwesomeCssFontAwesomeCss){},function(_angular){angular=_angular.default},function(_app){app=_app.default}],execute:function(){angular.element(document).ready(function(){angular.bootstrap(document.body,[app.name],{strictDi:!0})})}}}),System.register("components/app.css!github:systemjs/plugin-css@0.1.23/css.js",[],!1,function(){}),System.register("components/extra/trains/trains.css!github:systemjs/plugin-css@0.1.23/css.js",[],!1,function(){}),System.register("common/styles/index.css!github:systemjs/plugin-css@0.1.23/css.js",[],!1,function(){}),System.register("common/components/editor/editor.css!github:systemjs/plugin-css@0.1.23/css.js",[],!1,function(){}),System.register("common/services/loading-bar/loading-bar.css!github:systemjs/plugin-css@0.1.23/css.js",[],!1,function(){});
//# sourceMappingURL=app-bundle.js.map